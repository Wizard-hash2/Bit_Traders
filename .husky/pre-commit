#!/bin/sh
. "$(dirname "$0")/_/husky.sh"
npx lint-staged --allow-empty

# ShiftAI Pre-commit Hook - Detect and strip AI markers
# Allow skipping ShiftAI hook when SHIFTAI_DISABLE is set
if [ -z "$SHIFTAI_DISABLE" ]; then
	npx @deriv-com/shiftai-cli hook pre-commit || echo "ShiftAI hook skipped (no token or error). Set SHIFTAI_DISABLE=1 to skip."
fi

# Preserve exit code
exit $?